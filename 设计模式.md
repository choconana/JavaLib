# [面向对象设计遵循五大原则——SOLID](http://c.biancheng.net/view/1324.html)

## (S)单一职责原则

* 含义：一个类应当只负责一项职责，这项职责是对职责范围的多个事务的一个抽象；

* 核心：控制类的粒度大小、将对象解耦、提高内聚性；

* 优点：
  1. 降低类的**复杂度**。一个类只负责一项职责，其逻辑肯定要比负责多项职责简单得多。
  2. 提高类的**可读性**。复杂性降低，自然其可读性会提高。
  3. 提高系统的**可维护性**。可读性提高，那自然更容易维护了。
  4. **变更**引起的风险降低。变更是必然的，如果单一职责原则遵守得好，当修改一个功能时，可以**显著降低对其他功能的影响**。



## (O)开闭原则

* 含义：当应用的需求改变时，在不修改软件实体的源代码或者二进制代码的前提下，可以扩展模块的功能，使其满足新的需求。
* 优点：
  1. 软件测试时只需要对扩展的代码进行测试就可以了，因为原有的测试代码仍然能够正常运行；
  2. 提高代码的可复用性，粒度越小，被复用的可能性就越大；
  3. 稳定性高和延续性强，从而易于扩展和维护。
* 实现方法：**抽象约束、封装变化**，即通过**接口或者抽象类**为软件实体定义一个相对稳定的**抽象层**，而将相同的**可变因素封装在相同的具体实现类中**。

## (L)里氏替换原则

* 含义：子类可以扩展父类的功能，但不能改变父类原有的功能，也就是说：子类**继承**父类时，除添加新的方法完成新增功能外，**尽量不要重写**父类的方法。
* 作用：
  1. 是实现开闭原则的重要方式之一；
  2. 克服了继承中重写父类造成的可复用性变差的缺点；
  3. 是动作正确性的保证。即类的扩展不会给已有的系统引入新的错误，降低了代码出错的可能性；
  4. 加强程序的**健壮性**，同时变更时可以做到非常好的**兼容性**，提高程序的**维护性**、**可扩展性**，降低需求变更时引入的风险；
* 实现：
  1. 子类可以实现父类的抽象方法，但**不能覆盖**父类的**非抽象方法**；
  2. 子类中可以增加自己特有的方法；
  3. 当子类的方法**重载**父类的方法时，方法的**前置条件**（即方法的输入参数）要比父类的方法**更宽松**；
  4. 当子类的方法**实现**父类的方法时（重写/重载或实现抽象方法），方法的**后置条件**（即方法的的输出/返回值）要比父类的方法**更严格或相等**；
* 案例：**几维鸟不是鸟**；

![几维鸟不是鸟](assets\几维鸟不是鸟.gif)

## (I) 接口隔离原则

* 含义：要为各个类建立它们需要的**专用接口**，而不要试图去建立一个很庞大的接口供所有依赖它的类去调用。
* 优点：
  1. 将臃肿庞大的接口分解为多个粒度小的接口，提高系统的灵活性和可维护性。
  2. 提高了系统的内聚性，减少了对外交互，降低了系统的耦合性。
  3. 接口的粒度大小定义合理，能够保证系统的稳定性；
     * 但是，如果定义过小，则会造成接口数量过多，使设计复杂化；如果定义太大，灵活性降低，无法提供定制服务，给整体项目带来无法预料的风险。
  4. 使用多个专门的接口还能够体现对象的层次，因为可以通过接口的继承，实现对总接口的定义；
  5. 能减少项目工程中的代码冗余。过大的大接口里面通常放置许多不用的方法，当实现这个接口的时候，被迫设计冗余的代码；
* 实现：
  1. 接口尽量小，但是要有限度。**一个接口只服务于一个子模块或业务逻辑**。
  2. 为依赖接口的类**定制服务**。只提供调用者需要的方法，屏蔽不需要的方法。
  3. 了解环境，拒绝盲从。每个项目或产品都有选定的环境因素，环境不同，接口拆分的标准就不同深入了解业务逻辑。
  4. 提高内聚，减少对外交互。使接口**用最少的方法去完成最多的事情**。
* **接口隔离原则**和**单一职责**都是为了提高类的内聚性、降低它们之间的耦合性，体现了封装的思想，但两者是**不同**的：
  - 单一职责原则注重的是**职责**，而接口隔离原则注重的是对**接口依赖的隔离**。
  - 单一职责原则主要是**约束类**，它针对的是程序中的实现和细节；接口隔离原则主要**约束接口**，主要针对抽象和程序整体框架的构建。

## (D) 依赖倒置原则

* 含义：高层模块不应该依赖低层模块，**两者都应该依赖其抽象**；抽象不应该依赖细节，**细节应该依赖抽象**；
* 优点：
  1. 降低类间的耦合性；
  2. 提高系统的稳定性；
  3. 减少并行开发引起的风险；
  4. 提高代码的可读性和可维护性；

* 实现：
  1. 每个类尽量提供接口或抽象类，或者两者都具备；
  2. 变量的声明类型尽量是接口或者是抽象类；
  3. 任何类都不应该从具体类派生；
  4. 使用继承时尽量遵循里氏替换原则；

# 工厂方法模式

